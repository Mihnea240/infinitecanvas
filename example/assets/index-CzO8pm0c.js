(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();class a{constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}translate(t=0,e=0){return this.x+=t,this.y+=e,this}magSq(){return this.x*this.x+this.y*this.y}mag(){return Math.sqrt(this.magSq())}scale(t){return this.x*=t,this.y*=t,this}normalize(){let t=this.mag();return t==0?this:this.scale(1/t)}copy({x:t,y:e}){return this.set(t,e)}clone(){return new a(this.x,this.y)}sub({x:t,y:e}){return this.translate(-t,-e)}add({x:t,y:e}){return this.translate(t,e)}dot({x:t,y:e}){return this.x*t+this.y*e}cross({x:t,y:e}){return this.x*e-t*this.y}setMag(t){return this.normalize().scale(t)}hadamard({x:t,y:e}){return this.set(this.x*t,this.y*e)}setDirection(t){const e=this.mag();return this.copy(t).setMag(e)}rotateAround(t,{x:e,y:i}=a.ORIGIN){let s=Math.sin(t),n=Math.cos(t),c=this.x-e,h=this.y-i;return this.set(c*n-h*s+e,c*s+h*n+i)}norm(t=2){return Math.pow(Math.pow(this.x,t)+Math.pow(this.y,t),1/t)}static angle(t,e){return Math.acos(t.dot(e)/Math.sqrt(t.magSq()*e.magSq()))}static angle2(t,e){let i=a.angle(t,e);return t.cross(e)<0?2*Math.PI-i:i}toPolar(){return this.set(this.mag(),Math.atan2(this.y,this.x))}toCartesian(){return this.set(Math.cos(this.y)*this.x,Math.sin(this.y)*this.x)}set r(t){this.x=t}set theta(t){this.y=t}get r(){return this.x}get theta(){return this.y}lerp({x:t,y:e},i){return this.set((1-i)*this.x+i*t,(1-i)*this.y+i*e)}static ORIGIN=new a;static RIGHT=new a(1,0);static LEFT=new a(-1,0);static TOP=new a(0,1);static DOWN=new a(0,-1)}function x(o,{onstart:t=s=>!0,onmove:e=(s,n,c)=>!0,onend:i=s=>!0}){let s=0,n=0,c=0,h=0,l=r=>{r.preventDefault(),c=r.clientX-s,h=r.clientY-n,s=r.clientX,n=r.clientY,e(r,c,h)},p=r=>{s=r.clientX,n=r.clientY,t(r)&&(document.addEventListener("pointermove",l),document.addEventListener("pointerup",g=>{i(g),document.removeEventListener("pointermove",l)},{once:!0,capture:!0}))};return o.addEventListener("pointerdown",p),()=>{o.removeEventListener("pointerdown",p),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",i)}}class f extends HTMLElement{static styleSheet=(()=>{const t=new CSSStyleSheet;return t.replaceSync(`
			:host {
				display: block;
				position: relative;
				overflow: hidden !important;
			}
			[part="canvas"] {
				position: absolute;
				user-select: none;
				inset: 0;
				background: transparent;

				transform-origin: top left;
				transition: inherit;
			}
		`),t})();static shadowDom=`
		<div part="canvas">
			<slot></slot>
		</div>
	`.trim();constructor(){super();const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[f.styleSheet],this.shadowRoot.innerHTML=f.shadowDom,this.canvas=this.shadowRoot.querySelector("[part='canvas']"),this.__props={size:new a(0,0),screen_position:new a(0,0),scale:1,position:new a(0,0)},this.point=new a(0,0),this.cursor=new a(0,0),this.zoomFactor=1.1,x(this,{onstart:e=>{if(e.target!=this)return!1;e.stopPropagation();const i=this.getBoundingClientRect();return this.__props.screen_position.set(i.left,i.top),!0},onmove:(e,i,s)=>{this.__props.position.translate(i,s),requestAnimationFrame(()=>{this.update()})}}),this.addEventListener("pointermove",e=>{this.cursor.set(e.clientX,e.clientY),this.screenToCanvas(this.cursor)}),this.addEventListener("wheel",e=>{e.stopPropagation();const i=Math.max(.1,this.scale*(e.deltaY>0?1/this.zoomFactor:this.zoomFactor));this.screenToCanvas(this.cursor.set(e.clientX,e.clientY)),this.__props.position.add(this.cursor.scale(this.scale-i)),this.scale=i})}update(){this.canvas.style.cssText+=`
			transform: translate(${this.position.x}px, ${this.position.y}px) scale(${this.scale});
		`}screenToCanvas(t){return t.sub(this.__props.screen_position).sub(this.__props.position).scale(1/this.scale)}canvasToScreen(t){return t.scale(this.scale).add(this.screen_position).add(this.__props.position)}set position({x:t,y:e}){return this.__props.position.set(t,e),this.update(),this.__props.position}get position(){return this.__props.position}set scale(t){return this.__props.scale=t,this.update(),this.__props.scale}get scale(){return this.__props.scale}connectedCallback(){const t=this.getBoundingClientRect();this.size={width:t.width,height:t.height},this.__props.screen_position.set(t.left,t.top)}}customElements.define("infinite-canvas",f);function v(o,{onstart:t=s=>!0,onmove:e=(s,n,c)=>!0,onend:i=s=>!0}){let s=0,n=0,c=0,h=0,l=r=>{r.preventDefault(),c=r.clientX-s,h=r.clientY-n,s=r.clientX,n=r.clientY,e(r,c,h)},p=r=>{s=r.clientX,n=r.clientY,t(r)&&(document.addEventListener("pointermove",l),document.addEventListener("pointerup",g=>{i(g),document.removeEventListener("pointermove",l)},{once:!0,capture:!0}))};return o.addEventListener("pointerdown",p),()=>{o.removeEventListener("pointerdown",p),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",i)}}const u=document.querySelector("infinite-canvas");let d=u.getBoundingClientRect();for(let o=0;o<10;o++){let t=document.createElement("div");t.classList.add("box"),t.textContent=`Box ${o+1}`,t.style.cssText+=`
		left: ${Math.random()*d.width}px; 
		top: ${Math.random()*d.height}px;
	`,u.appendChild(t)}let y=null,m=new a(0,0);v(u,{onstart:o=>o.target.classList.contains("box")?(d=o.target.getBoundingClientRect(),y=o.target,u.screenToCanvas(m.set(d.left,d.top)),!0):!1,onmove:(o,t,e)=>{m.translate(t/u.scale,e/u.scale),requestAnimationFrame(()=>{y.style.cssText+=`
				left: ${m.x}px;
				top: ${m.y}px;
			`})}});
